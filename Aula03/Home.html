<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=divice-width, initial-scale=1.0">
    <title>Aula 03 - Atividades JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <ul class="navbar-nav justify-content-end">
                    <li>
                        <a class="nav-link" href="../index.html">Voltar</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <div class="container">
            <h1>Atividades JavaScript</h1>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex01 - Variáveis e Tipos de Dados</h5>
                </div>
                <div class="card-body">
                    <h6>Escolha o tipo de dado que será testado:</h6>
                    <form name="Ex01">
                        <div class="form-check">
                            <input type="radio" name="tipo_dado" value="string" checked/>
                            <label>String: "Teste"</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" name="tipo_dado" value="number"/>
                            <label>Number: 42</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" name="tipo_dado" value="boolean"/>
                            <label>Boolean: true</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" name="tipo_dado" value="array"/>
                            <label>Array: [1,2,3,4]</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" name="tipo_dado" value="object"/>
                            <label>Object: {nome:"Fabio", sobrenome:"Akio", idade: 32}</label>
                        </div>
                        <button type="button" class="bg-success" onclick="verificarTipoDado()">Verificar tipo de dado</button>
                    </form>
                    <h4 id="res_ex01"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex02 - Operadores e Condicionais</h5>
                </div>
                <div class="card-body">
                    <h6>Digite a idade para ser verificada:</h6>
                    <form name="Ex02">
                        <div class="form-check">
                            <label>Idade: </label>
                            <input type="number" id="ex02_idade"/>
                        </div>
                        
                        <button type="button" class="bg-success rounded" onclick="verificarIdade()">Verificar idade</button>
                    </form>
                    <h4 id="res_ex02"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex03 - Laços de Repetição</h5>
                </div>
                <div class="card-body">
                    <h6>Digite o numero de que deseja gerar a tabuada e o numero final da tabuada:</h6>
                    <form name="Ex03">
                        <div class="form-check">
                            <label>Numero: </label>
                            <input type="number" id="numero_ex03" value="1"/>
                        </div>
                        <div class="form-check">
                            <label>Numero Final: </label>
                            <input type="number" id="numero_final_ex03" value="10"/>
                        </div>
                        
                        <button type="button" class="bg-success rounded" onclick="gerarTabuada()">Gerar Tabuada</button>
                    </form>
                    <h4 id="res_ex03"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex04 - Funções e Parâmetros</h5>
                </div>
                <div class="card-body">
                    <h6>Digite o array que deseja somar e um numero caso queira multiplicar por ele antes de somar:</h6>
                    <form name="Ex04">
                        <div class="form-check">
                            <label>Numero multiplicador: </label>
                            <input type="number" id="mult_ex04" />
                        </div>
                        <div class="form-check">
                            <label>Array: </label>
                            <input type="text" id="array_ex04"/>
                            <small>Escreva os elementos separados por vigula. Ex: 1,2,3,5</small>
                        </div>
                        
                        <button type="button" class="bg-success rounded" onclick="gerarArray()">Somar</button>
                    </form>
                    <h4 id="res_ex04"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex05 - Manipulação de Strings</h5>
                </div>
                <div class="card-body">
                    <h6>Digite o texto para inverter:</h6>
                    <form name="Ex05">
                        <div class="form-check">
                            <label>Texto: </label>
                            <input type="text" id="texto_ex05"/>
                        </div>
                        <button type="button" class="bg-success rounded" onclick="reverterStringButton()">Inverter</button>
                    </form>
                    <h4 id="res_ex05"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex06 - Objetos e Arrays</h5>
                </div>
                <div class="card-body">
                    <h6>Digite os dados da pessoa a ser descrita:</h6>
                    <form name="Ex05">
                        <div class="form-check">
                            <label>Nome: </label>
                            <input type="text" id="nome_ex06"/>
                        </div>
                        <div class="form-check">
                            <label>Idade: </label>
                            <input type="number" id="idade_ex06"/>
                        </div>
                        <div class="form-check">
                            <label>Cidade: </label>
                            <input type="text" id="cidade_ex06"/>
                        </div>
                        <button type="button" class="bg-success rounded" onclick="descreverPessoaButton()">Descrever</button>
                        
                    </form>
                    <h4 id="res_ex06"></h4>
                    <h6>Altere os dados da pessoa a ser descrita:</h6>
                    <form>
                        <div class="form-check">
                            <label>Idade: </label>
                            <input type="number" id="idade_alt_ex06"/>
                        </div>
                        <div class="form-check">
                            <label>Cidade: </label>
                            <input type="text" id="cidade_alt_ex06"/>
                        </div>
                        <button type="button" class="bg-success rounded" onclick="alterarPessoaButton()">Alterar</button>
                    </form>
                    <h4 id="res_alt_ex06"></h4>

                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                        <h5>Ex07 - Métodos de Array</h5>
                </div>
                <div class="card-body">
                    <h6>Digite o array que deseja filtrar:</h6>
                    <form name="Ex07">
                        <div class="form-check">
                            <label>Array: </label>
                            <input type="text" id="array_ex07"/>
                            <small>Escreva os elementos separados por vigula. Ex: 1,2,3,5</small>
                        </div>
                        
                        <button type="button" class="bg-success rounded" onclick="filtrarParesButton()">Filtrar Pares</button>
                        <button type="button" class="bg-success rounded" onclick="filtrarInparesButton()">Filtrar Inpares</button>
                    </form>
                    <h4 id="res_ex07"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex08 - Manipulação de Objetos</h5>
                </div>
                <div class="card-body">
                    <h6>Digite a proprieda que deseja adionar ao objeto: {"NomeTeste":"Valorteste"}</h6>
                    <form name="Ex08">
                        <div class="form-check">
                            <label>Nome da propriedade: </label>
                            <input type="text" id="nome_ex08"/>
                        </div>
                        <div class="form-check">
                            <label>Valor da propriedade: </label>
                            <input type="text" id="valor_ex08"/>
                        </div>
                        <button type="button" class="bg-success rounded" onclick="adicionarPropriedadeButton()">Adicionar Propriedade</button>
                    </form>
                    <h4 id="res_ex08"></h4>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex09 - Eventos e DOM</h5>
                </div>
                <div class="card-body">
                    <h6>Clique no botão para alterar o texto:</h6>
                    <form name="Ex09">
                        <p id="texto_ex09" class="text-center form-control">Esse é um texto teste, para ser alterado</p>
                        <div>
                            <textarea class="form-control" id="texto_alt_ex09" placeholder="Digite o texto a ser editado"></textarea>
                            
                        </div>
                        <button type="button" class="bg-success rounded mt-2" onclick="alterarTextoButton()">Alterar Texto</button>
                        <h4>Quantidade de Cliques</h4>
                        <h4 id="clique_ex09">0</h4>
                    </form>
                </div>
            </div>
            <div class="card m-3">
                <div class="card-header">
                    <h5>Ex10 - Promises e Async/Await</h5>
                </div>
                <div class="card-body">
                    <h6>Clique no botão para simular o Fetch:</h6>
                    <form name="Ex09">
                        <button type="button" class="bg-success rounded mt-2" onclick="simularFetch()">Alterar Texto</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <script>
        //-----------------------------------------------------------------------------------------
        // Ex01
        function tipoDeDado(dado){
            return (typeof dado ==="object")? (Array.isArray(dado)? "array" : "object") : typeof dado
        }
        function verificarTipoDado(){
            let tipoDado =  document.querySelector('input[name=tipo_dado]:checked').value;
            let res = document.getElementById("res_ex01")
            let dado
            switch(tipoDado) {
                case "string": 
                    dado = "Teste";
                    break;
                case "number": 
                    dado = 42;
                    break;
                case "boolean": 
                    dado = true;
                    break;
                case "array": 
                    dado = [1,2,3,4];
                    break;
                case "object": 
                    dado = {nome:"Fabio", sobrenome:"Akio", idade: 32};
                    break;
            }
            console.log(tipoDeDado(dado))
            res.textContent = tipoDeDado(dado)
        }
        //-----------------------------------------------------------------------------------------
        // Ex02
        function maiorDeIdade(idade){
            if(idade>=18){
                res = "Maior de idade"
            }
            else{
                res = "Menor de idade"
            }
            return res
        }
        function verificarIdade(){
            let idade = document.getElementById("ex02_idade").value
            let res = document.getElementById("res_ex02")
            console.log( (idade))
            console.log(maiorDeIdade(idade))
            res.textContent = maiorDeIdade(idade)
        }
        //-----------------------------------------------------------------------------------------
        // Ex03
        function tabuada(numero,numeroFinal){
            let resTabuada = []
            for(n=1; n<=numeroFinal; n++){
                resTabuada[n-1] = ( numero + "x" + n + "=" + (n*numero))
                console.log(numero + "x" + n + "=" + (n*numero))
            }
            return resTabuada
        }
        function gerarTabuada(){
            let numero = document.getElementById("numero_ex03").value
            let numeroFinal = document.getElementById("numero_final_ex03").value
            let res = document.getElementById("res_ex03")
            
            res.innerHTML = tabuada(numero,numeroFinal).join('<br />')
        }
        //-----------------------------------------------------------------------------------------
        // Ex04
        function somaArray(array,multiplo){
            let soma=0
            array.forEach(element => {
                console.log(typeof multiplo)
                console.log( multiplo)
                if(!Number.isNaN(multiplo)){
                    element*=multiplo
                }
                soma+=element
            });
            console.log(soma)
            return soma
        }
        function gerarArray(){
            let mult = parseInt(document.getElementById("mult_ex04").value)
            let stringArray = document.getElementById("array_ex04").value
            let array = stringArray.split(",").map(function(item) {return parseInt(item, 10);})
            let res = document.getElementById("res_ex04")
            res.textContent = "R: " + somaArray(array,mult)
        }
        //-----------------------------------------------------------------------------------------
        // Ex05
        function reverterString(texto){
            return texto.split("").reverse().join("")
        }
        function reverterStringButton(){
            let texto = document.getElementById("texto_ex05").value
            let res = document.getElementById("res_ex05")
            res.textContent = "R: " + reverterString(texto)
        }
        //-----------------------------------------------------------------------------------------
        // Ex06
        let pessoa = {
            nome: "",
            idade: "",
            cidade: "",
            descreverPessoa: function() {
                return "Essa pessoa se chama " + this.nome + ", tem " + this.idade + " anos de idade e mora na cidade " + this.cidade
            },
            atualizar: function(idade,cidade) {
                this.idade = idade
                this.cidade = cidade
                return pessoa
            }
        } 
        function descreverPessoaButton(){
            let res = document.getElementById("res_ex06")
            pessoa.nome = document.getElementById("nome_ex06").value
            pessoa.idade = document.getElementById("idade_ex06").value
            pessoa.cidade = document.getElementById("cidade_ex06").value
            console.log(pessoa.descreverPessoa())
            res.textContent = pessoa.descreverPessoa()
        }
        function alterarPessoaButton(){
            let res = document.getElementById("res_alt_ex06")
            pessoa.atualizar(
                document.getElementById("idade_alt_ex06").value,
                document.getElementById("cidade_alt_ex06").value
            )
            console.log(pessoa.descreverPessoa())
            res.textContent = pessoa.descreverPessoa()
        }
        //-----------------------------------------------------------------------------------------
        // Ex07
        function filtrarPares(array){
            let arrayInpares = []
            array.forEach(element => {
                if((element%2==1)){
                    arrayInpares.push(element)
                }
            })
            return arrayInpares
        }
        function filtrarImpares(array){
            let arrayPares = []
            array.forEach(element => {
                if((element%2 != 1)){
                    arrayPares.push(element)
                }
            })
            return arrayPares
        }
        function filtrarParesButton(){
            let stringArray = document.getElementById("array_ex07").value
            let array = stringArray.split(",").map(function(item) {return parseInt(item, 10);})
            let res = document.getElementById("res_ex07")
            console.log(filtrarPares(array))
            res.textContent = "R: " + filtrarPares(array)
        }
        function filtrarInparesButton(){
            let stringArray = document.getElementById("array_ex07").value
            let array = stringArray.split(",").map(function(item) {return parseInt(item, 10);})
            let res = document.getElementById("res_ex07")
            console.log(filtrarImpares(array))
            res.textContent = "R: " + filtrarImpares(array)
        }
        //-----------------------------------------------------------------------------------------
        // Ex08
        let objeto = {"NomeTeste":"Valorteste"}
        function adicionarPropriedade(objeto,nome,valor){
            if(objeto[nome] === undefined){
                objeto[nome] = valor
                return objeto
            }
            else{
                return null
            }
            
        }
        function adicionarPropriedadeButton(){
            let nome = document.getElementById("nome_ex08").value
            let valor = document.getElementById("valor_ex08").value
            let res = document.getElementById("res_ex08")
            
            if((adicionarPropriedade(objeto,nome,valor)===null)){
                res.innerHTML = "Propriedade já existente, digite outro nome" + '<br/>' + JSON.stringify(objeto)
                console.log("Propriedade já existente, digite outro nome")
            }
            else{
                res.innerHTML = JSON.stringify(objeto)
                console.log(objeto)
            }
        }
        //-----------------------------------------------------------------------------------------
        // Ex09
        let contClique = 0
        function alterarTextoButton(){
            let texto = document.getElementById("texto_ex09")
            let textoAlt = document.getElementById("texto_alt_ex09").value
            let clique = document.getElementById("clique_ex09")
            contClique+=1
            clique.textContent = contClique
            texto.textContent = textoAlt
        }
        //-----------------------------------------------------------------------------------------
        // Ex10
        async function simularFetch(){
            let promessa = new Promise((resolve) => { setTimeout(() => {resolve("Dados recebidos")},2000)});
            try{
                let mensagem = await promessa
                alert(mensagem)
                console.log(mensagem)
            } catch (erro){
                alert(erro)
            }
        }
    </script
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
<footer class="bg-light  fixed-bottom">
    <div class="row text-center">
        <div class="col">
            <span>Email: fabio.ikenoue@fatec.sp.gov.br</span>
        </div>
        <div class="col">
            <a class="nav-link" href="https://github.com/akiofabio">GitHub</a>
        </div>
    </div>
</footer>
    
</html>